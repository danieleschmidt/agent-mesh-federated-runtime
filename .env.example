# Agent Mesh Federated Runtime - Environment Configuration

# =============================================================================
# CORE SETTINGS
# =============================================================================

# Environment type (development, testing, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Node configuration
NODE_ID=auto-generated
LISTEN_ADDRESS=/ip4/0.0.0.0/tcp/4001
AUTO_ROLE_NEGOTIATION=true

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Bootstrap peers (comma-separated multiaddresses)
BOOTSTRAP_PEERS=/ip4/127.0.0.1/tcp/4001/p2p/QmExamplePeer

# Network protocols to enable
ENABLED_PROTOCOLS=libp2p,grpc,webrtc

# Connection limits
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30

# NAT traversal
ENABLE_NAT_TRAVERSAL=true
STUN_SERVERS=stun:stun.l.google.com:19302

# =============================================================================
# CONSENSUS CONFIGURATION
# =============================================================================

# Consensus algorithm (pbft, raft, tendermint)
CONSENSUS_ALGORITHM=pbft

# Byzantine fault tolerance (0.0 to 0.5)
FAULT_TOLERANCE=0.33

# Consensus timeouts (seconds)
CONSENSUS_TIMEOUT=30
VIEW_CHANGE_TIMEOUT=60

# Minimum participants for consensus
MIN_CONSENSUS_PARTICIPANTS=3

# =============================================================================
# FEDERATED LEARNING SETTINGS
# =============================================================================

# Training configuration
FL_ROUNDS=100
FL_LOCAL_EPOCHS=5
FL_BATCH_SIZE=32
FL_LEARNING_RATE=0.01

# Aggregation algorithm (fedavg, scaffold, fedprox, krum)
FL_AGGREGATION_ALGORITHM=fedavg

# Secure aggregation
FL_SECURE_AGGREGATION=true
FL_HOMOMORPHIC_ENCRYPTION=false

# Differential privacy
FL_DIFFERENTIAL_PRIVACY=false
FL_DP_EPSILON=1.0
FL_DP_DELTA=1e-5

# Participation requirements
FL_MIN_PARTICIPANTS=3
FL_MAX_PARTICIPANTS=100
FL_PARTICIPATION_RATE=0.8

# =============================================================================
# MULTI-AGENT COORDINATION
# =============================================================================

# Coordination protocol (contract_net, blackboard, stigmergy, market_based)
COORDINATION_PROTOCOL=contract_net

# Collaboration strategy (competitive, cooperative, hybrid, emergent)
COLLABORATION_STRATEGY=cooperative

# Task scheduling
MAX_CONCURRENT_TASKS=50
TASK_TIMEOUT=300
SCHEDULING_STRATEGY=load_balanced

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Encryption algorithm (chacha20_poly1305, aes_256_gcm, nacl_secretbox)
ENCRYPTION_ALGORITHM=nacl_secretbox

# Signature algorithm (ed25519, rsa_pss, ecdsa)
SIGNATURE_ALGORITHM=ed25519

# Security level (none, standard, high)
SECURITY_LEVEL=standard

# Access control
RBAC_ENABLED=true
DEFAULT_ACCESS_LEVEL=participant

# Key management
KEY_ROTATION_INTERVAL=86400  # 24 hours in seconds
KEY_SIZE=2048

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL (SQLite for development, PostgreSQL for production)
DATABASE_URL=sqlite:///data/agent_mesh.db

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Migration settings
DB_AUTO_MIGRATE=true
DB_BACKUP_ENABLED=true

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Redis configuration
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_TIMEOUT=5

# Cache settings
CACHE_TTL=3600  # 1 hour
CACHE_MAX_SIZE=1000

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Metrics collection
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_INTERVAL=60

# Prometheus configuration
PROMETHEUS_ENDPOINT=http://localhost:9090
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana dashboard
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=

# Logging configuration
LOG_FORMAT=json  # json, text
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_RETENTION_DAYS=30

# Distributed tracing
TRACING_ENABLED=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Resource limits
MAX_MEMORY_MB=4096
MAX_CPU_PERCENT=80
MAX_DISK_USAGE_PERCENT=85

# Networking performance
SEND_BUFFER_SIZE=65536
RECEIVE_BUFFER_SIZE=65536
TCP_KEEPALIVE=true

# Concurrency settings
MAX_WORKERS=4
ASYNC_POOL_SIZE=100

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development tools
ENABLE_PROFILING=false
ENABLE_DEBUG_ENDPOINTS=true
HOT_RELOAD=true

# Testing configuration
TEST_DATABASE_URL=sqlite:///:memory:
TEST_NETWORK_SIMULATION=true
MOCK_EXTERNAL_SERVICES=true

# API configuration
API_CORS_ENABLED=true
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8080
API_RATE_LIMITING=false

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Container settings
CONTAINER_PORT=8080
HEALTH_CHECK_PATH=/health
READINESS_CHECK_PATH=/ready

# Load balancing
LOAD_BALANCER_ALGORITHM=round_robin
STICKY_SESSIONS=false

# Auto-scaling
AUTO_SCALING_ENABLED=false
MIN_REPLICAS=1
MAX_REPLICAS=10
CPU_THRESHOLD=70

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Message queues
MESSAGE_BROKER_URL=amqp://localhost:5672
QUEUE_DURABLE=true
QUEUE_AUTO_DELETE=false

# Notification services
SLACK_WEBHOOK_URL=
EMAIL_SMTP_SERVER=
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=
EMAIL_PASSWORD=

# Monitoring services
SENTRY_DSN=
DATADOG_API_KEY=
NEW_RELIC_LICENSE_KEY=

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Experimental features
ENABLE_QUANTUM_RESISTANCE=false
ENABLE_EDGE_COMPUTING=false
ENABLE_BLOCKCHAIN_INTEGRATION=false

# Beta features
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_AUTO_TUNING=false
ENABLE_SMART_ROUTING=true

# =============================================================================
# NOTES
# =============================================================================

# 1. Copy this file to .env and customize values for your environment
# 2. Never commit .env files with real credentials to version control
# 3. Use different configurations for different environments
# 4. Validate configuration using: agent-mesh validate-config
# 5. Some settings require restart to take effect
# 6. Check logs for configuration warnings or errors